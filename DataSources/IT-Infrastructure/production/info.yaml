environment:
  name: "production"
  region: "us-east-1"
  provider: "aws"
  account-id: "123456789012"
  vpc-cidr: "10.0.0.0/16"
  availability-zones:
    - "us-east-1a"
    - "us-east-1b"
    - "us-east-1c"

services:
  - name: "api"
    type: "web-service"
    replicas: 5
    cpu: "1000m"
    memory: "2Gi"
    ports:
      - port: 8080
        protocol: "http"
    health-check: "/health"
    auto-scaling:
      min: 3
      max: 10
      target-cpu: 70

  - name: "database"
    type: "database"
    engine: "postgresql"
    version: "14"
    instance-class: "db.r5.xlarge"
    storage: 500
    multi-az: true
    backup-retention: 30

  - name: "cache"
    type: "cache"
    engine: "redis"
    node-type: "cache.r6g.large"
    num-cache-nodes: 2

  - name: "worker"
    type: "background-job"
    replicas: 3
    cpu: "500m"
    memory: "1Gi"
    queue: "job-queue"

networking:
  load-balancer:
    type: "application"
    scheme: "internet-facing"
    ssl-certificate: "arn:aws:acm:us-east-1:123456789012:certificate/abc123"
  
  security-groups:
    - name: "web-sg"
      description: "Security group for web services"
      ingress:
        - from-port: 80
          to-port: 80
          protocol: "tcp"
          cidr-blocks: ["0.0.0.0/0"]
        - from-port: 443
          to-port: 443
          protocol: "tcp"
          cidr-blocks: ["0.0.0.0/0"]

monitoring:
  enabled: true
  log-retention: 30
  metrics-retention: 90
  alerting:
    email: "ops@company.com"
    slack: "#alerts"

tags:
  Environment: "production"
  Team: "platform"
  CostCenter: "engineering"
  ManagedBy: "terraform"

